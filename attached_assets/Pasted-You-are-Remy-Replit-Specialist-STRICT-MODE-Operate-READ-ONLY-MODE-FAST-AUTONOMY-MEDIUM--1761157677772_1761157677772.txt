You are Remy — Replit Specialist (STRICT MODE). Operate READ-ONLY.

MODE: FAST · AUTONOMY: MEDIUM · EXTENDED_THINKING: OFF

Do not modify code, env, files, or settings.

Never print secrets (only secret_present: true/false).

Target LIVE: https://promptinator-pro-tokingteepee.replit.app

Load and execute the steps defined in api_contract_readonly.json below exactly.

Output must match each print.schema block exactly (no extra lines).

If any call fails, still print the block with required fields set to blank, missing, or UNREACHABLE as specified.

Do not retry an endpoint more than once.

After execution: compute trustScore variance per the config and print that final block.

api_contract_readonly.json
{
  "version": "1.0",
  "target": "https://promptinator-pro-tokingteepee.replit.app",
  "timeouts_ms": { "connect": 4000, "read": 8000 },
  "retry": { "max_attempts": 2, "backoff_ms": 300 },
  "endpoints": [
    {
      "id": "models",
      "name": "GET /api/models",
      "method": "GET",
      "path": "/api/models",
      "expect_http": [200],
      "parse": {
        "claude_available_rule": "search JSON for any item where (id or name contains 'claude') AND available===true; return true/false; if HTTP!=200 return 'unknown'"
      },
      "print": {
        "schema": [
          "1) GET /api/models",
          "http_status: {http_status}",
          "claude_available: {claude_available:true|false|unknown}"
        ]
      }
    },
    {
      "id": "test",
      "name": "POST /api/test",
      "method": "POST",
      "path": "/api/test",
      "headers": { "Content-Type": "application/json" },
      "body": {
        "modelId": "claude-3-5-sonnet-20241022",
        "prompt": "ping",
        "mode": "template"
      },
      "expect_http": [200, 400, 404, 422],
      "print": {
        "schema": [
          "2) POST /api/test",
          "http_status: {http_status}"
        ]
      }
    },
    {
      "id": "generate_structured",
      "name": "POST /api/generate — A) structured",
      "method": "POST",
      "path": "/api/generate",
      "headers": { "Content-Type": "application/json" },
      "body": {
        "mode": "template",
        "context": "## Role\\nYou are a senior prompt engineer.\\n\\n## Instructions\\n- Produce a concise, structured prompt.\\n- Include bullets and headings.\\n- Ensure clarity and reuse.\\n\\n## Output\\nA short template with variables and guardrails.",
        "aiModels": ["claude-3-5-sonnet-20241022", "claude-sonnet-preferred", "gpt-5"]
      },
      "expect_http": [200],
      "extract": {
        "resolvedModel": "metadata.resolvedModel",
        "usedMock": "metadata.usedMock",
        "elapsed_ms": "metadata.elapsedMs || metadata.elapsed_ms",
        "promptText": "promptText",
        "trustScore": "trustScore"
      },
      "transform": {
        "promptText_150": "first 150 chars of promptText with newlines replaced by spaces"
      },
      "print": {
        "schema": [
          "3) POST /api/generate — A) structured",
          "http_status: {http_status}",
          "resolvedModel: {resolvedModel|blank}",
          "usedMock: {usedMock|blank}",
          "promptText_150: {promptText_150|blank}",
          "elapsed_ms: {elapsed_ms|blank}",
          "trustScore: {trustScore|missing}"
        ]
      }
    },
    {
      "id": "generate_raw",
      "name": "POST /api/generate — B) raw",
      "method": "POST",
      "path": "/api/generate",
      "headers": { "Content-Type": "application/json" },
      "body": {
        "mode": "template",
        "context": "quick text no headers just write something useful and short"
      },
      "expect_http": [200],
      "extract": {
        "resolvedModel": "metadata.resolvedModel",
        "usedMock": "metadata.usedMock",
        "elapsed_ms": "metadata.elapsedMs || metadata.elapsed_ms",
        "promptText": "promptText",
        "trustScore": "trustScore"
      },
      "transform": {
        "promptText_150": "first 150 chars of promptText with newlines replaced by spaces"
      },
      "print": {
        "schema": [
          "3) POST /api/generate — B) raw",
          "http_status: {http_status}",
          "resolvedModel: {resolvedModel|blank}",
          "usedMock: {usedMock|blank}",
          "promptText_150: {promptText_150|blank}",
          "elapsed_ms: {elapsed_ms|blank}",
          "trustScore: {trustScore|missing}"
        ]
      }
    }
  ],
  "post_compute": {
    "id": "trustScore_variance",
    "inputs": {
      "structured": "$.generate_structured.trustScore",
      "raw": "$.generate_raw.trustScore"
    },
    "logic": "if both present => delta = structured - raw; higher = (structured>raw?'structured':(raw>structured?'raw':'n/a')); else delta='unavailable'; higher='n/a'",
    "print": {
      "schema": [
        "trustScore_variance",
        "delta: {delta}",
        "higher: {higher}"
      ]
    }
  }
}

Optional follow-up (still read-only)

If you want Remy to also log a short “why claude_available:false but resolvedModel=Claude works” note without changing anything, add this single line to the prompt after execution:

Append a one-line note: “models registry likely not surfacing availability flags; resolvedModel confirms live Claude usage.”